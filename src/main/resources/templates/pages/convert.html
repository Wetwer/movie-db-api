<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<h1>Convert Progress</h1>
<div class="card card-body">
    <table class="table">
        <tr>
            <th>Episode</th>
            <th>Progress</th>
            <th>Cancel</th>
        </tr>
        <tr th:each="episode : ${episodes}">
            <td th:text="${episode.getFullTitle()}"></td>
            <td>
                <div class="progress">
                    <div aria-valuemax="100" aria-valuemin="0" aria-valuenow="25"
                         class="progress-bar progress-bar-striped progress-bar-animated"
                         id="progress" role="progressbar"
                         th:style="'width: ' + ${episode.convertPercentage} + '%'"
                         th:text="${episode.convertPercentage} + '%'">
                    </div>
                </div>
            </td>
        </tr>
    </table>
    <br>
    <table class="table">
        <tr>
            <th>Episode</th>
            <th>Format</th>
            <th><span class="float-right">Convert</span></th>
        </tr>
        <tr th:each="episode : ${episodesToConvert}">
            <td th:text="${episode.getFullTitle()}"></td>
            <td th:text="${episode.getMime()}"></td>
            <td>
                <form class="float-right" method="post" style="display: inline"
                      th:action="'/episode/convert/' + ${episode.id}">
                    <button class="btn btn-secondary" type="submit">
                        Convert
                    </button>
                </form>
            </td>
        </tr>
    </table>
</div>
<br>
<a class="btn btn-primary" href="/settings">Back</a>
