<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<h1>
    User List
</h1>

<div class="alert alert-success" th:if="${param.added}">
    User added
</div>

<div class="alert alert-success" th:if="${param.deleted}">
    User deleted
</div>

<form action="/user" id="search">
    <br>
    <input autocomplete="off" class="form-control" name="search" placeholder="Search"
           th:value="${search}" type="text">
</form>
<br>
<a class="link-btn" href="/request/create"><i class="fas fa-plus"></i> Request Invite</a>
<br>
<br>
<div class="row">
    <div class="col-6 col-md-2" th:each="user : ${users}" style="margin-bottom: 20px">
        <a th:href="'/user/' + ${user.id}" class="link-btn" style="display: block;">
            <img class="img-thumbnail" style="max-height: 25px; min-height: 25px; display: inline;"
                 th:if="${user.profileImg} != null" th:src="'/img/' + ${user.id}"/>
            <span class="text-white" th:text="${user.name}"></span>
        </a>
    </div>
</div>

<div class="row" th:if="${users.isEmpty()}">
    <div class="col-12 col-md-2">
        <div class="alert alert-secondary">
            <a>No Users found</a>
        </div>
    </div>
</div>
<br>
<div th:if="${currentUser?.isAdmin()}">
    <a class="btn btn-primary" href="/register">New User</a>
    <br>
    <br>
</div>
<a class="link-btn" href="/">Back</a>
