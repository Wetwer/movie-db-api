<html xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/xhtml">

<h1 th:text="'List ' + ${timeline.title}"></h1>

<div th:if="${param.notdeleted}" class="alert alert-danger">
    List not deleted
</div>

<br>
<div class="card card-body">
    <a th:utext="${timeline.description}"></a>
    <br>
    <small class="text-muted">
        <span>List created by </span>
        <a th:text="${timeline.user.name}" th:href="'/user/' + ${timeline.user.id}"></a>
    </small>
</div>
<br>
<div class="row">
    <div th:each="moviePar : ${timeline.listMovies}" class="col-12 col-md-4 col-lg-3" style="margin-bottom: 20px">
        <div th:include="'static/movieListCard.html'"></div>
    </div>
</div>
<div th:if="${timeline.listMovies.isEmpty()}" class="row">
    <div class="col-sm-2" style="margin-bottom: 20px">
        <div class="alert alert-secondary">
            <a>No movies found</a>
        </div>
    </div>
</div>
<div th:if="${currentUser} == ${timeline.user} OR ${currentUser.isAdmin()}">
    <div>
        <a th:href="'/timeline/edit/' + ${timeline.id} " class="btn btn-primary">Edit</a>
        <br>
        <br>
        <form th:action="'/timeline/delete/' + ${timeline.id}" method="post" class="form">
            <button type="submit" class="btn btn-danger">Delete</button>
        </form>
    </div>
    <br>
</div>
<a href="/list" class="btn btn-primary">Back</a>
