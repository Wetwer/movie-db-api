<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Help</title>
    <style>
        body {
            margin: 20px;
            font-family: Arial, Helvetica, sans-serif;
            /*background-color: lightgray;*/
        }

        div {
            padding: 20px;
            border-radius: 5px;
            background-color: white;
            border: 1px solid darkgray;
        }

        pre {
            font-family: Consolas;
            color: white;
            background-color: black;
            padding: 5px;
            border-radius: 5px;
        }

        .login {
            background-color: #b9ccea;
        }

        .user {
            background-color: #e8d0be;
        }

        .movie {
            background-color: #c1e8be;
        }

        .request {
            background-color: #d9bee8;
        }

        .rating {
            background-color: #e8e6be;
        }

        .responses {
            background-color: #8cd2e8;
        }

        .good {
            background-color: #9ee892;
        }

        .error {
            background-color: #e8a185;
        }
    </style>
</head>
<body>
<h1>movie-db-api URL mapping</h1>
<a href="api.html">api</a>
<a href="installation.html">installation</a>
<a href="info.html">info</a>
<hr>
<h2>Login System</h2>
<div class="login">
    <h4>Login</h4>
    <p>POST
    <pre>/login?user=?&password=?</pre>
</div>
<br>
<div class="login">
    <h4>Register</h4>
    <p>POST
    <pre>/register?user=?&password=?</pre>
</div>
<br>
<hr>
<br>
<h2>User</h2>
<div class="user">
    <h4>Get all Users</h4>
    <p>GET
    <pre>/user</pre>

    <p><b>Response</b></p>
    Users:
    <pre>Array[3][
            {
                "id": 1,
                "name": "felix",
                "role": "1",
                "session_id": "89d26994613fbe45cadb797b558b8117ffaa7cee7b28e4454238a103d712fc86"
            }
        ]</pre>
</div>
<br>
<div class="user">
    <h4>Get one User</h4>
    <p>GET
    <pre>/user/[userId]</pre>
    <p><b>Response</b></p>
    Users:
    <pre>{
      "id": 1,
      "name": "felix",
      "role": "1",
      "session_id": "89d26994613fbe45cadb797b558b8117ffaa7cee7b28e4454238a103d712fc86"
}</pre>
</div>
<br>
<div class="user">
    <h4>Get current User</h4>
    <p>GET
    <pre>/currentUser</pre>
    <p><b>Response</b></p>
    Users:
    <pre>
    {
      "id": 1,
      "name": "felix",
      "role": "1",
      "session_id": "89d26994613fbe45cadb797b558b8117ffaa7cee7b28e4454238a103d712fc86"
    }</pre>
</div>
<br>
<div class="user">
    <h4>Set User Role</h4>
    <p>POST
    <pre>/user/[userId]/role/[role]</pre>
</div>
<br>
<hr>
<br>
<h2>Movie</h2>
<div class="movie">
    <h4>Get all Movies</h4>
    <p>GET
    <pre>/movie</pre>
    <p><b>Response</b></p>
    Movies:
    <pre>[
  {
    "id": 1,
    "title": "12 Strong",
    "year": "2018",
    "quality": "1080p",
    "video_path": "D:\\Torrents\\movie\\12 Strong 2018 1080p.mp4",
    "img_path": "https://image.tmdb.org/t/p/w500/j18021qCeRi3yUBtqd2UFj1c0RQ.jpg",
    "description": "A team of CIA agents and special forces head into Afghanistan in the aftermath of the September 11th attacks in an attempt to dismantle the Taliban.",
    "runtime": "130",
    "popularity": 26.458909
  },
  {
    "id": 2,
    "title": "12 Years a Slave",
    "year": "2013",
    "quality": "1080p",
    "video_path": "D:\\Torrents\\movie\\12 Years a Slave 2013 1080p.mp4",
    "img_path": "https://image.tmdb.org/t/p/w500/kb3X943WMIJYVg4SOAyK0pmWL5D.jpg",
    "description": "In the pre-Civil War United States, Solomon Northup, a free black man from upstate New York, is abducted and sold into slavery. ",
    "runtime": "134",
    "popularity": 17.942793
  }
]</pre>
</div>
<br>
<div class="movie">
    <h4>Get one Movie</h4>
    <p>GET
    <pre>/movie/[movieId]</pre>
    <p><b>Response</b></p>
    Movie:
    <pre>{
    "id": 21,
    "title": "Avatar",
    "year": "2009",
    "quality": "1080p",
    "video_path": "D:\\Torrents\\movie\\Avatar 2009 1080p.mp4",
    "img_path": "https://image.tmdb.org/t/p/w500/kmcqlZGaSh20zpTbuoF0Cdn07dT.jpg",
    "description": "In the 22nd century, a paraplegic Marine is dispatched to the moon Pandora on a unique mission, but becomes torn between following orders and protecting an alien civilization.",
    "runtime": "162",
    "popularity": 30.190285
  }</pre>
</div>
<br>
<div class="movie">
    <h4>Search Movies</h4>
    <p>GET
    <pre>/movie/search/[querry]</pre>
    <p><b>Response</b></p>
    Search result Movie:
    <pre>[
  {
    "id": 79,
    "title": "Forrest Gump",
    "year": "1994",
    "quality": "1080p",
    "video_path": "D:\\Torrents\\movie\\Forrest Gump 1994 1080p.mp4",
    "img_path": "https://image.tmdb.org/t/p/w500/yE5d3BUhE8hCnkMUJOo1QDoOGNz.jpg",
    "description": "A man with a low IQ has accomplished great things in his life and been present during significant historic events - in each case, far exceeding what anyone imagined he could do.",
    "runtime": "142",
    "popularity": 23.86064
  }
]</pre>
</div>
<br>
<div class="movie">
    <h4>Import Movies</h4>
    <p>POST
    <pre>/movie/add</pre>
</div>
<br>
<div class="movie">
    <h4>Set Import Path</h4>
    <p>POST
    <pre>/movie/path?path=?</pre>
</div>
<br>
<hr>
<br>
<h2>Request</h2>
<div class="request">
    <h4>Get all Requests</h4>
    <p>GET
    <pre>/request</pre>
    <p><b>Response</b></p>
    Requests:
    <pre>[
  {
    "id": 1,
    "request": "Star Wars",
    "active": "1",
    "user_id": "422"
  },
  {
    "id": 2,
    "request": "Forrest Gump",
    "active": "0",
    "user_id": "532"
  }
]</pre>
</div>
<br>
<div class="request">
    <h4>Get Requests by UserId</h4>
    <p>GET
    <pre>/request/[userId]</pre>
    <p><b>Response</b></p>
    Requests:
    <pre>[
  {
    "id": 1,
    "request": "Star Wars",
    "active": "1",
    "user_id": "422"
  }
]</pre>

</div>
<br>
<div class="request">
    <h4>Get one Request by RequestId</h4>
    <p>GET
    <pre>/request/[requestId]</pre>
    Requests:
    <pre>{
    "id": 2,
    "request": "Forrest Gump",
    "active": "0",
    "user_id": "532"
}</pre>
</div>
<br>
<div class="request">
    <h4>Add a Request (Requires user to be logged in)</h4>
    <p>POST
    <pre>/request/add?request=?</pre>
</div>
<br>
<div class="request">
    <h4>Close Request</h4>
    <p>POST
    <pre>/request/[requestId]/close</pre>
</div>
<br>
<hr>
<br>
<h2>Rating</h2>
<div class="rating">
    <h4>Get Rating for Movie</h4>
    <p>GET
    <pre>/rating/[movieId]</pre>
    <p><b>Response</b></p>
    Reviews:
    <pre>{
  "average": 4.5,
  "ratings": [
    {
      "id": 1,
      "rating": 4,
      "movie_id": 1,
      "user_id": 363
    },
    {
      "id": 2,
      "rating": 5,
      "movie_id": 1,
      "user_id": 432
    }
  ]
}</pre>
</div>
<br>
<div class="rating">
    <h4>Rate Movie</h4>
    <p>POST
    <pre>/rating/[movieId]/?rating=?</pre>
</div>
<br>
<hr>
<br>
<h2>Response Codes</h2>
<div>
    <p>All api calls can return a Response Code</p>
    <div class="good">
        <h3>Code: 1** -> Success</h3>
        <ul>
            <li>
                101 - Added:
                <pre>{"response":"101"}</pre>
            </li>
            <li>
                102 - Updated:
                <pre>{"response":"102"}</pre>
            </li>
            <li>
                103 - Logged In:
                <pre>{"response":"103"}</pre>
            </li>
        </ul>

    </div>
    <br>
    <div class="error">
        <h3>Code: 2** -> Error</h3>
        <ul>
            <li>
                201 - Wrong Login:
                <pre>{"response":"201"}</pre>
            </li>
            <li>
                202 - No User logged in:
                <pre>{"response":"202"}</pre>
            </li>
            <li>
                203 - Already Exists:
                <pre>{"response":"203"}</pre>
            </li>
            <li>
                204 - Not Found:
                <pre>{"response":"204"}</pre>
            </li>
            <li>
                205 - Input Format Error:
                <pre>{"response":"205"}</pre>
            </li>
        </ul>
    </div>
</div>
</body>
</html>